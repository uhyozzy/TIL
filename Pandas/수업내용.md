# 판다스 라이브러리
> import pandas as pd


# 1장. DataFrame생성
## 1. DataFrame 생성 방법

```Python

   DataFrame 생성 방법

   1. dict 이용
     df = pd.DataFrame(dict)

   2. 중첩 리스트 이용
     df = pd.DataFrame(중첩리스트, index=[], columns=[])

   3. np.Series(리스트) 이용
      - df = pd.DataFrame([series, series,....])

      - (하나의) Series는 DataFrame으로 변경 가능
         df = series.to_frame(이름)

1) dict 이용 
print("1. dict 이용한 DataFrame 생성")
df = pd.DataFrame({"col1" : [4 ,5, 6],
                   "col2" : [7, 8, 9],
                   "col3" : [10, 11, 12]})
print(df)

#
   col1  col2  col3
0     4     7    10
1     5     8    11
2     6     9    12



2) 중첩 리스트 이용한 DataFrame 생성 => ndarray도 가능
print("1. 중첩 리스트 이용")
df = pd.DataFrame([[4, 7, 10],[5, 8, 11],[6, 9, 12]],
                  index=[1, 2, 3],
                  columns=['col1', 'col2', 'col3'])
print(df)

#
   col1  col2  col3
1     4     7    10
2     5     8    11
3     6     9    12

3)  Series 사용
print("3. DataFrame 생성")
name =     pd.Series(["유관순","안중근"])
age =      pd.Series([18,31])
birthday = pd.Series(['1920/09/28','1910/03/26'])

hero = pd.DataFrame([name,age,birthday])
hero.columns =["hero1", "hero2"]
hero.index =["이름","나이","생일"]

print(hero)
#
         hero1       hero2
이름         유관순         안중근
나이          18          31
생일  1920/09/28  1910/03/26


print(hero.T)
#
        이름  나이          생일
hero1  유관순  18  1920/09/28
hero2  안중근  31  1910/03/26


2) DataFrame 변경 

2-1) 컬럼명 변경

df.columns =[값, 값2, ... ]

예시)
df = pd.DataFrame({"col1" : [4 ,5, 6],
                   "col2" : [7, 8, 9],
                   "col3" : [10, 11, 12]})
print(df)
df.columns = ['c1', 'c2', 'c3' ]
print(df)

2-2) 인덱스 변경

df.index = [값1, 값2, ... ]

예시)
df = pd.DataFrame({"col1" : [4 ,5, 6],
                   "col2" : [7, 8, 9],
                   "col3" : [10, 11, 12]}, index=['A','B','C'])
print(df)
df.indx = [10, 20, 30]
print(df)


3) DataFrame 속성 정보 보기

3-1) df.columns 또는 df.keys() : 컬럼정보

df = pd.DataFrame({"col1" : [4 ,5, 6],
                   "col2" : [7, 8, 9],
                   "col3" : [10, 11, 12]})
                   
print(df. columns)
print(df.keys())

3-2) df.index : 인덱스 라벨 정보

df = pd.DataFrame({"col1" : [4 ,5, 6],
                   "col2" : [7, 8, 9],
                   "col3" : [10, 11, 12]}, index=['A','B','C'])

print(df.index)

3-3) df.values 또는 df.to_numpy(): 값 정보
   - 다차원 배열로 반환

print(df.values)
print(df.to_numpy())

```

# 2장 인덱스 관리
## 1. 인덱스 변경 
```python

'''

    인덱스(index) 변경
     - DataFrame의 기존컬럼을 index로 변경
     - inplace=True|False 에 따라서 복사여부 결정
     문법:
           df.set_index(기존컬럼, inplace=True|False)

           df.reset_index( drop=False, inplace=True ) # 기존 index를 컬럼으로 변경하고 새로운 index 생성
           df.reset_index( drop=True, inplace=True ) # 기존 index를 삭제하고 새로운 index 생성
'''

df = pd.DataFrame({    "date":['2021','2022'],
                       "City": ["Seoul", "Seoul"],
                       "Temperature": [32, 34]
                       })
print("1. 원본 DataFrame")
print(df)
#
   date   City  Temperature
0  2021  Seoul           32
1  2022  Seoul           34

```

### 1) 기존 컬럼을 인덱스로 변경
```python

df.set_index('date', inplace=True)
print(df)

#
       City  Temperature
date                    
2021  Seoul           32
2022  Seoul           34
```

### 2) 새로운 인덱스로 변경
```python

df.set_index(기존컬럼, inplace = True | False)
drop = T : 기존 인덱스를 삭제하고 새로운 인덱스 생성 
drop = F : 기존 인덱스를 컬럼으로 변경하고 새로운 인덱스 생성
(drop과 inplace의 파라미터 위치는 상관 없음)

df.reset_index(drop=False, inplace=True)         # 기존 인덱스를 컬럼으로 변경하고 새로운 인덱스 생성
print(df)
#
   index  date   City  Temperature
0      0  2021  Seoul           32
1      1  2022  Seoul           34


df.reset_index(drop=True, inplace=True)            # 기존 인덱스를 삭제하고 새로운 인덱스 생성
print(df)
#
   date   City  Temperature
0  2021  Seoul           32
1  2022  Seoul           34


```

### 3) index 재배치
```python
new_df = df.reindex(index=list("ABCDE"))

print(new_df)
```


### 4) df병합시 기존 index값이 중복발생 ==> ignore_index=True 로 index값을 재설정
```python
df1 = pd.DataFrame({'a':[12,2]},
                   index=[1,2])
df2 = pd.DataFrame({'a':[120,20]},
                   index=[1,2])

new_df = pd.concat([df1, df2])
print(new_df)
new_df = pd.concat([df1, df2], ignore_index=True)
print(new_df)
```


